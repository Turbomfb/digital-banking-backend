
DROP TABLE IF EXISTS faq;

CREATE TABLE faq
(
    id            BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    question      TEXT        NOT NULL,
    answer        TEXT        NOT NULL,
    product       VARCHAR(50) NOT NULL,
    del_flg       BOOLEAN     NOT NULL DEFAULT FALSE,
    web_enable    BOOLEAN     NOT NULL DEFAULT TRUE,
    mobile_enable BOOLEAN     NOT NULL DEFAULT TRUE,
    launch_date   DATE,
    created_at    TIMESTAMP            DEFAULT CURRENT_TIMESTAMP,
    updated_at    TIMESTAMP            DEFAULT CURRENT_TIMESTAMP
);

-- Create indexes for better query performance
CREATE INDEX idx_faq_product ON faq (product);
CREATE INDEX idx_faq_del_flg ON faq (del_flg);
CREATE INDEX idx_faq_web_enable ON faq (web_enable);
CREATE INDEX idx_faq_mobile_enable ON faq (mobile_enable);
CREATE INDEX idx_faq_product_delflg ON faq (product, del_flg);

-- Insert TurboFlex FAQs (Recurring Deposits - RETAIL product)
INSERT INTO faq (question, answer, product, del_flg, web_enable, mobile_enable, launch_date)
VALUES ('What is TurboFlex?',
        'TurboFlex is a recurring savings plan that fits your payday routine. Set a savings amount, choose your frequency (daily, weekly, or monthly), and we''ll handle the rest — automatically. It''s flexible, interest-earning, and built for consistent savers.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('Who is TurboFlex for?',
        'Anyone who wants to save little by little without stress. It''s great for people with salaries, market traders, or even side hustlers who want to build a habit.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('I don''t understand interest — how does my money grow?',
        'Every time you save, your money earns interest. That means we pay you extra just for keeping your money with us. The longer and more consistently you save, the more interest you get.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('What happens if I miss a payment?',
        'Nothing bad. You won''t be fined or punished. You just won''t earn interest for that day. You can pick up again anytime.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('Can I take my money out at any time?',
        'Yes. TurboFlex is flexible. You can withdraw whenever you need to. But remember — the more you keep it growing, the more interest you''ll earn.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('What if I don''t use a smartphone all the time?',
        'You can still use TurboFlex via USSD or WhatsApp. It''s simple, and we''ll guide you every step of the way.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('Is there a limit to how much I can save?',
        'No limit. Whether it''s ₦1,000 or ₦100,000 a month, it''s all up to you. You''re in control.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('Can I change my deposit amount or frequency later?',
        'Yes. TurboFlex is built around your life. You can pause, increase, or reschedule your savings anytime from the app.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08');

-- Insert TurboLock FAQs (Fixed Deposits - RETAIL product)
INSERT INTO faq (question, answer, product, del_flg, web_enable, mobile_enable, launch_date)
VALUES ('What is TurboLock?',
        'TurboLock lets you save a specific amount of money and lock it for a fixed number of days or months. During that time, you can''t touch the money — but it grows faster with higher interest.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('Who should use TurboLock?',
        'It''s a great fit for salary earners with lump sums (bonuses, pensions, etc.) or anyone planning for future expenses like rent renewals, property, or tuition.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('What''s the minimum deposit?',
        'You can start with ₦10,000. The more you save and the longer the term, the higher your returns.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('Can I see how much I''ll earn before I lock it?',
        'Yes. The app will show you the interest you''ll earn for any amount and time you choose. Lock periods start from 30 days up to 12 months. You choose what works for your plans. No surprises.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('What if I need to withdraw early?',
        'You can — but we''ll reduce the interest slightly because you broke the agreement. You''ll always see the updated amount before confirming.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('Is it safe?',
        '100% safe. Turbo Finance is regulated by the Central Bank of Nigeria (CBN) and your funds are insured by the Nigeria Deposit Insurance Corporation (NDIC).',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('What if I don''t understand how to use the app?',
        'You can talk to our chatbot, TAMI, or one of our human agents. You can also save or ask for help through WhatsApp or USSD — no smartphone required.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('Do I need a bank account to use TurboLock?',
        'You need a BVN and a verified wallet with us. From there, you can fund your plan through your bank, POS agents, or mobile money.',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08');

-- Insert general FAQs that apply to all products
INSERT INTO faq (question, answer, product, del_flg, web_enable, mobile_enable, launch_date)
VALUES ('When was Retail Banking launched?',
        'Our platform was launched on 04/08/2025',
        'RETAIL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('What savings products do you offer?',
        'We offer TurboFlex (recurring deposits) for flexible savings and TurboLock (fixed deposits) for higher returns on locked funds.',
        'ALL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('How do I get started?',
        'Download our app, create your account with your BVN, verify your wallet, and choose between TurboFlex or TurboLock based on your savings goals.',
        'ALL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08'),
       ('Can I use both TurboFlex and TurboLock?',
        'Yes! You can have multiple savings plans running at the same time. Use TurboFlex for regular savings and TurboLock for specific financial goals.',
        'ALL',
        FALSE,
        TRUE,
        TRUE,
        '2025-04-08');

-- Verify the data insertion
SELECT id,
       LEFT(question, 50) as question_preview,
       LEFT(answer, 100)  as answer_preview,
       product,
       del_flg,
       web_enable,
       mobile_enable,
       launch_date
FROM faq
ORDER BY product, id;
